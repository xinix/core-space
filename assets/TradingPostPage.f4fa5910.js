import{d as g,o as s,c as a,n as f,_ as b,l as C,h as m,S as D,a as o,F as M,r as P,e as h,t as u,b as p,q as T,H as E,u as L,f as N,I as w,p as z,g as F}from"./main.832c9b40.js";import{u as H,B as K}from"./core-space-tokens.9aba1f98.js";const V=g({__name:"StockDot",props:{count:{},sold:{default:0}},setup(c){return(i,t)=>(s(),a("span",{class:f([{off:i.sold>=i.count},"stock"])},null,2))}});const q=b(V,[["__scopeId","data-v-cb3c5c74"]]),A={class:"stock"},U={class:"name"},Z={key:0,class:"price"},j={class:"overlay"},G=g({__name:"MarketItem",props:{item:{},active:{type:Boolean}},emits:["activate"],setup(c,{emit:i}){const t=c,r=i,_=C(),v=e=>(r("activate",t.item.key),e),k=e=>(e.cancelBubble=!0,_.buy(t.item),r("activate"),e),y=e=>(e.cancelBubble=!0,_.sell(t.item),r("activate"),e),l=m(()=>{const e={},B=D[t.item.size];return e[t.item.product]=!0,e[B]=!0,e[t.item.slug]=!0,e}),n=m(()=>{let e=!1;return t.item.sold!=null&&(e=t.item.sold>=t.item.count),{soldout:e,active:t.active}}),$=m(()=>t.item.sold!=null&&t.item.sold<t.item.count),d=m(()=>!0);return(e,B)=>(s(),a("div",{class:f([n.value,"market-item"]),tabindex:"-1",onClick:v},[o("figure",{class:f([l.value,"token"])},null,2),o("div",A,[(s(!0),a(M,null,P(e.item.count,I=>(s(),h(q,{key:I,count:I,sold:e.item.sold},null,8,["count","sold"]))),128))]),o("h3",U,u(e.item.name),1),e.item.color!=="teal"?(s(),a("span",Z,u(e.item.buy)+" \u2192 "+u(e.item.sell),1)):p("",!0),o("div",j,[$.value?(s(),a("button",{key:0,class:"btn",type:"button",onClick:k},u(e.$t("buy")),1)):p("",!0),d.value?(s(),a("button",{key:1,class:"btn",type:"button",onClick:y},u(e.$t("sell")),1)):p("",!0)])],2))}});const J=b(G,[["__scopeId","data-v-41684333"]]),S=c=>(z("data-v-74f25174"),c=c(),F(),c),O=["onKeyup"],Q={class:"details"},R=["innerHTML"],W={key:1,class:"empty"},X=S(()=>o("em",null,"\u{1F979}",-1)),Y=S(()=>o("br",null,null,-1)),x=S(()=>o("br",null,null,-1)),ee={key:2,class:"tokens"},te=g({__name:"TradingPostPage",props:{slug:{}},setup(c){const i=n=>(v(),n),t=c,r=C(),_=T(""),v=(n="")=>{_.value=n};E(()=>{r.visit(t.slug)});const k=m(()=>`${t.slug}-info`),{loading:y}=H(),l=T();return l.value=r.market,(n,$)=>(s(),a("div",{class:"container",tabindex:"-1",onKeyup:w(i,["esc"])},[o("main",Q,[o("header",null,[o("h1",null,u(n.$t(n.slug)),1),o("p",{class:"lead",innerHTML:n.$t(k.value)},null,8,R)]),L(y)?(s(),h(K,{key:0})):l.value&&l.value.length===0?(s(),a("p",W,[X,Y,x,N(" "+u(n.$t("no_result")),1)])):p("",!0),l.value!==void 0?(s(),a("div",ee,[(s(!0),a(M,null,P(l.value,d=>(s(),h(J,{key:d.key,active:_.value===d.key,item:d,class:"item",onActivate:v},null,8,["active","item"]))),128))])):p("",!0)])],40,O))}});const ne=b(te,[["__scopeId","data-v-74f25174"]]);export{ne as default};
